<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Ejercicio 3: Etiquetas meter, progress y datalist (a11y + semántica)</title>
  <style>
    /* Utilidad para texto solo accesible por lector de pantalla */
    .visually-hidden {
      position: absolute !important;
      height: 1px; width: 1px;
      overflow: hidden; clip: rect(1px, 1px, 1px, 1px);
      white-space: nowrap; border: 0; padding: 0; margin: -1px;
    }
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; line-height: 1.5; }
    main { max-width: 68rem; margin: 2rem auto; padding: 0 1rem; }
    section { margin-block: 2rem; }
    figure { margin: 0; }
    figcaption { font-size: 0.95rem; }
    table { border-collapse: collapse; width: 100%; }
    th, td { border: 1px solid #ddd; padding: 0.5rem; text-align: left; }
    caption { text-align: left; font-weight: 600; margin-bottom: 0.5rem; }
    fieldset { border: 1px solid #ddd; padding: 1rem; }
    legend { font-weight: 600; }
    meter, progress { width: 100%; height: 1.25rem; }
    .hint { font-size: 0.95rem; color: #555; }
  </style>
</head>
<body>
  <header>
    <h1>Ejercicio 3: Etiquetas <code>meter</code>, <code>progress</code> y <code>datalist</code></h1>
  </header>

  <main id="contenido" role="main">
    <p class="visually-hidden" id="intro">
      Demostración accesible de los elementos meter, progress y datalist con estructura semántica.
    </p>

    <section aria-labelledby="indicadores">
      <h2 id="indicadores">Indicadores de estado</h2>

      <!-- METER con etiqueta, límites y valores semánticos -->
      <figure>
        <figcaption id="cap-bateria">Nivel de batería del dispositivo</figcaption>
        <div>
          <label for="bateria" class="visually-hidden">Batería restante</label>
          <!-- low/high/optimum ayudan a transmitir el rango "saludable" del valor -->
          <meter
            id="bateria"
            value="67"
            min="0"
            max="100"
            low="20"
            high="80"
            optimum="100"
            aria-describedby="cap-bateria texto-bateria"
          ></meter>
          <p id="texto-bateria" class="hint">67% de batería (óptimo ≥80%, bajo &lt;20%).</p>
        </div>
      </figure>

      <!-- PROGRESS con texto asociado y refuerzo ARIA (compatible con lectores) -->
      <figure>
        <figcaption id="cap-progreso">Progreso de las tareas</figcaption>
        <div>
          <label for="tareas" class="visually-hidden">Progreso de las tareas</label>
          <progress
            id="tareas"
            value="14"
            max="100"
            aria-describedby="cap-progreso texto-progreso"
            aria-valuenow="14"
            aria-valuemin="0"
            aria-valuemax="100"
          ></progress>
          <p id="texto-progreso" class="hint">14% completado (86% restante).</p>
        </div>
      </figure>
    </section>

    <section aria-labelledby="productos">
      <h2 id="productos">Lista de productos</h2>

      <!-- Tabla semántica para relacionar claramente producto y precio -->
      <table aria-describedby="desc-productos">
        <caption>Productos y precios</caption>
        <thead>
          <tr>
            <th scope="col">Producto</th>
            <th scope="col">Precio (€)</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <th scope="row">Manzana</th>
            <td data-precio="2.50">2,50</td>
          </tr>
          <tr>
            <th scope="row">Plátano</th>
            <td data-precio="1.20">1,20</td>
          </tr>
          <tr>
            <th scope="row">Naranja</th>
            <td data-precio="3.00">3,00</td>
          </tr>
        </tbody>
      </table>
      <p id="desc-productos" class="hint">
        Los precios también se exponen en <code>data-precio</code> por si necesitas leerlos con JavaScript.
      </p>
    </section>

    <section aria-labelledby="formulario">
      <h2 id="formulario">Formulario con <code>datalist</code></h2>

      <form aria-describedby="form-ayuda">
        <fieldset>
          <legend>Preferencias de programación</legend>

          <label for="lenguaje">Lenguaje favorito:</label>
          <input
            list="lenguajes"
            id="lenguaje"
            name="lenguaje"
            inputmode="text"
            autocomplete="off"
            aria-describedby="form-ayuda"
            placeholder="Escribe para ver sugerencias…"
          />

          <datalist id="lenguajes">
            <option value="JavaScript"></option>
            <option value="Python"></option>
            <option value="Java"></option>
            <option value="C#"></option>
          </datalist>

          <p id="form-ayuda" class="hint">
            Empieza a escribir y elige una opción sugerida o introduce otra distinta.
          </p>
        </fieldset>
      </form>
    </section>
  </main>

  <footer>
    <p>Ejemplo educativo de HTML semántico y accesible.</p>
  </footer>
</body>
</html>
